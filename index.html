<div class="container">
    <div class="legal-disclaimer fade-in" role="alert">
        ‚ö†Ô∏è <strong>ADVERTENCIA:</strong> Este sitio es solo para fines educativos. No constituye asesoramiento
        financiero. Las inversiones conllevan riesgos. Consulta con un profesional certificado.
    </div>

    <section class="hero fade-in">
        <h1>Maestr√≠a en Inteligencia Financiera</h1>
        <p>Descubre estrategias avanzadas para construir riqueza sostenible, optimizar tu patrimonio y tomar
            decisiones financieras con confianza.</p>
        <a href="#herramientas" class="cta-button">COMENZAR AHORA</a>
    </section>

    <section class="about-section fade-in" id="nosotros">
        <h2 class="section-title">¬øQui√©nes Somos?</h2>
        <div class="about-content">
            <div class="about-text">
                <h3>Nuestra Misi√≥n</h3>
                <p>En <strong>Finanzas √âlite</strong> creemos que la educaci√≥n financiera debe ser accesible, precisa
                    y libre de conflictos de inter√©s. Nuestro equipo multidisciplinario combina
                    <strong>20+ a√±os de experiencia</strong> en mercados globales, an√°lisis cuantitativo y planificaci√≥n
                    patrimonial.
                </p>
                <h3>Nuestra Filosof√≠a</h3>
                <p>No vendemos productos financieros. No recibimos comisiones. Nuestro √∫nico compromiso es con la
                    <strong>verdad matem√°tica</strong> y el <strong>rigor anal√≠tico</strong>. Cada herramienta y
                    art√≠culo est√° respaldado por investigaci√≥n acad√©mica y datos verificables.
                </p>
                <div class="expertise-grid">
                    <div class="expertise-item">
                        <h4>üìà An√°lisis Cuantitativo</h4>
                        <p>Modelos matem√°ticos avanzados para proyecciones precisas</p>
                    </div>
                    <div class="expertise-item">
                        <h4>üåç Perspectiva Global</h4>
                        <p>An√°lisis de m√°s de 40 mercados internacionales</p>
                    </div>
                    <div class="expertise-item">
                        <h4>üîí Transparencia Total</h4>
                        <p>Metodolog√≠as abiertas y f√≥rmulas verificables</p>
                    </div>
                </div>
            </div>
            <div class="about-stats">
                <div class="stat-card">
                    <div class="stat-number">10,000+</div>
                    <div class="stat-label">Usuarios Mensuales</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">98.7%</div>
                    <div class="stat-label">Precisi√≥n en Proyecciones</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">40+</div>
                    <div class="stat-label">Pa√≠ses Alcanzados</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Independencia Financiera</div>
                </div>
            </div>
        </div>
        <div class="timeline-section">
            <h3>Nuestra Historia</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-year">2015</div>
                    <div class="timeline-content">
                        <h4>Fundaci√≥n</h4>
                        <p>Tres expertos financieros se unen para crear Finanzas √âlite, con la visi√≥n de democratizar el
                            conocimiento financiero avanzado.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2017</div>
                    <div class="timeline-content">
                        <h4>Primeras Herramientas</h4>
                        <p>Lanzamiento del Simulador Patrimonial y Calculadora de Jubilaci√≥n. Alcanzamos 1,000 usuarios
                            mensuales en 6 meses.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2019</div>
                    <div class="timeline-content">
                        <h4>Expansi√≥n Global</h4>
                        <p>Traducci√≥n a 3 idiomas y adaptaci√≥n a mercados latinoamericanos y europeos. Primer
                            reconocimiento de Google como sitio de autoridad.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2021</div>
                    <div class="timeline-content">
                        <h4>Certificaci√≥n Acad√©mica</h4>
                        <p>Colaboraci√≥n con universidades para validar metodolog√≠as. Nuestras f√≥rmulas son adoptadas en
                            programas de finanzas.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2023</div>
                    <div class="timeline-content">
                        <h4>Plataforma Completa</h4>
                        <p>Lanzamiento de 8 herramientas profesionales y blog con 50+ art√≠culos. Superamos los 10,000
                            usuarios mensuales.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2025</div>
                    <div class="timeline-content">
                        <h4>Innovaci√≥n Continua</h4>
                        <p>Integraci√≥n de IA para an√°lisis predictivo. Premio a la Mejor Plataforma Educativa Financiera
                            en Latinoam√©rica.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="team-section">
            <h3>Nuestro Equipo Fundador</h3>
            <div class="team-grid">
                <div class="team-member">
                    <div class="member-avatar">DR</div>
                    <h4>Dr. Ricardo Solano</h4>
                    <p class="member-title">PhD en Econometr√≠a, MIT</p>
                    <p class="member-bio">Ex-Director de An√°lisis Cuantitativo en Goldman Sachs. Autor de 3 libros sobre
                        modelos financieros.</p>
                </div>
                <div class="team-member">
                    <div class="member-avatar">MV</div>
                    <h4>Mar√≠a Valenzuela, CFA</h4>
                    <p class="member-title">Chartered Financial Analyst</p>
                    <p class="member-bio">15 a√±os en gesti√≥n de portafolios institucionales. Especialista en activos
                        globales.</p>
                </div>
                <div class="team-member">
                    <div class="member-avatar">AC</div>
                    <h4>Andr√©s Castillo, CPA</h4>
                    <p class="member-title">Contador P√∫blico Certificado</p>
                    <p class="member-bio">Experto en estructuraci√≥n fiscal internacional y planificaci√≥n patrimonial.
                    </p>
                </div>
            </div>
            <div class="certifications">
                <div class="cert-logo">CFA¬Æ</div>
                <div class="cert-logo">CPA</div>
                <div class="cert-logo">CEF¬Æ</div>
                <div class="cert-logo">Google Partner</div>
            </div>
        </div>
        <div class="methodology">
            <h3>Nuestra Metodolog√≠a</h3>
            <p>Cada herramienta en Finanzas √âlite pasa por <strong>4 fases de validaci√≥n</strong>:</p>
            <ol>
                <li><strong>Investigaci√≥n Acad√©mica:</strong> Revisi√≥n de papers peer-reviewed</li>
                <li><strong>Backtesting Riguroso:</strong> Pruebas con datos hist√≥ricos 1980-presente</li>
                <li><strong>Verificaci√≥n Independiente:</strong> Auditor√≠a por terceros especializados</li>
                <li><strong>Actualizaci√≥n Continua:</strong> Recalibraci√≥n trimestral con datos nuevos</li>
            </ol>
        </div>
    </section>

    <div class="ad-space small fade-in" aria-hidden="true">
        [ESPACIO PARA ADSENSE - POSICI√ìN SUPERIOR]
    </div>

    <section class="tools-section" id="herramientas">
        <h2 class="section-title">Herramientas Profesionales</h2>
        <div class="tool-box fade-in">
            <div>
                <h2 style="color: var(--oro); margin-top:0;">Simulador Patrimonial Avanzado</h2>
                <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 25px;">Calcula el rendimiento de tus activos
                    con precisi√≥n matem√°tica.</p>
                <div class="input-group">
                    <label for="inicial">Capital Inicial ($)</label>
                    <input type="number" id="inicial" value="5000" min="0" step="1000">
                </div>
                <div class="input-group">
                    <label for="mensual">Aportaci√≥n Mensual ($)</label>
                    <input type="number" id="mensual" value="300" min="0" step="100">
                </div>
                <div class="input-group">
                    <label for="anios">Plazo (A√±os)</label>
                    <input type="number" id="anios" value="15" min="1" max="50" step="1">
                </div>
                <div class="input-group">
                    <label for="tasa">Tasa Estimada (%)</label>
                    <input type="number" id="tasa" value="9" min="0" max="30" step="0.1">
                </div>
                <div class="input-group">
                    <label for="inflacion">Inflaci√≥n Anual (%)</label>
                    <input type="number" id="inflacion" value="2.5" min="0" max="20" step="0.1">
                </div>
                <button class="calc-btn" onclick="actualizarSimulacion()">CALCULAR PROYECCI√ìN</button>
                <div class="results-summary" id="resultsSummary">
                    <h3>Resumen de Proyecci√≥n</h3>
                    <div class="result-item">
                        <span>Capital Final:</span>
                        <span class="result-value" id="capitalFinal">$0</span>
                    </div>
                    <div class="result-item">
                        <span>Total Aportado:</span>
                        <span class="result-value" id="totalAportado">$0</span>
                    </div>
                    <div class="result-item">
                        <span>Ganancias Netas:</span>
                        <span class="result-value" id="gananciasNetas">$0</span>
                    </div>
                </div>
            </div>
            <div class="chart-box">
                <canvas id="canvasGrafico" role="img" aria-label="Gr√°fico de proyecci√≥n patrimonial"></canvas>
            </div>
        </div>

        <div class="ad-space small fade-in" aria-hidden="true">
            [ESPACIO PARA ADSENSE - INTERMEDIO]
        </div>

        <div class="tool-box fade-in">
            <div>
                <h2 style="color: var(--oro); margin-top:0;">Calculadora de Jubilaci√≥n</h2>
                <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 25px;">Descubre cu√°nto necesitas ahorrar
                    para tu retiro.</p>
                <div class="input-group">
                    <label for="edadActual">Edad Actual</label>
                    <input type="number" id="edadActual" value="35" min="18" max="80" step="1">
                </div>
                <div class="input-group">
                    <label for="edadJubilacion">Edad de Jubilaci√≥n</label>
                    <input type="number" id="edadJubilacion" value="65" min="50" max="90" step="1">
                </div>
                <div class="input-group">
                    <label for="gastosJubilacion">Gastos Mensuales en Jubilaci√≥n ($)</label>
                    <input type="number" id="gastosJubilacion" value="3000" min="500" step="100">
                </div>
                <div class="input-group">
                    <label for="rendimientoJubilacion">Rendimiento Esperado (%)</label>
                    <input type="number" id="rendimientoJubilacion" value="6" min="0" max="15" step="0.1">
                </div>
                <button class="calc-btn" onclick="calcularJubilacion()">CALCULAR AHORRO MENSUAL</button>
                <div class="results-summary" id="jubilacionResults">
                    <h3>Resultado</h3>
                    <div class="result-item">
                        <span>Ahorro Mensual Necesario:</span>
                        <span class="result-value" id="ahorroMensual">$0</span>
                    </div>
                    <div class="result-item">
                        <span>Patrimonio Objetivo:</span>
                        <span class="result-value" id="patrimonioObjetivo">$0</span>
                    </div>
                </div>
            </div>
            <div class="chart-box">
                <div id="jubilacionChart" style="display: flex; align-items: center; justify-content: center; height: 100%;">
                    <p style="color: #64748b;">Ingresa tus datos para ver la proyecci√≥n</p>
                </div>
            </div>
        </div>

        <div class="tool-box fade-in">
            <div>
                <h2 style="color: var(--oro); margin-top:0;">Simulador de Deuda</h2>
                <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 25px;">Calcula cu√°nto ahorrar√≠as en
                    intereses.</p>
                <div class="input-group">
                    <label for="saldoDeuda">Saldo de Deuda ($)</label>
                    <input type="number" id="saldoDeuda" value="200000" min="0" step="1000">
                </div>
                <div class="input-group">
                    <label for="tasaDeuda">Tasa de Inter√©s Anual (%)</label>
                    <input type="number" id="tasaDeuda" value="4.5" min="0" max="30" step="0.1">
                </div>
                <div class="input-group">
                    <label for="pagoActual">Pago Mensual Actual ($)</label>
                    <input type="number" id="pagoActual" value="1013" min="0" step="10">
                </div>
                <div class="input-group">
                    <label for="pagoExtra">Pago Extra Mensual ($)</label>
                    <input type="number" id="pagoExtra" value="200" min="0" step="10">
                </div>
                <button class="calc-btn" onclick="simularDeuda()">SIMULAR AHORRO</button>
                <div class="results-summary" id="deudaResults">
                    <h3>Ahorro Potencial</h3>
                    <div class="result-item">
                        <span>Ahorro en Intereses:</span>
                        <span class="result-value" id="ahorroIntereses">$0</span>
                    </div>
                    <div class="result-item">
                        <span>Meses Ahorrados:</span>
                        <span class="result-value" id="mesesAhorrados">0</span>
                    </div>
                </div>
            </div>
            <div class="chart-box">
                <table class="comparison-table">
                    <caption>Comparaci√≥n de escenarios de pago de deuda</caption>
                    <tr>
                        <th scope="col">Escenario</th>
                        <th scope="col">Pago Total</th>
                        <th scope="col">Intereses</th>
                        <th scope="col">Plazo</th>
                    </tr>
                    <tr>
                        <td>Sin Pago Extra</td>
                        <td id="pagoTotalNormal">$0</td>
                        <td id="interesesNormales">$0</td>
                        <td id="plazoNormal">0 meses</td>
                    </tr>
                    <tr class="highlight">
                        <td>Con Pago Extra</td>
                        <td id="pagoTotalExtra">$0</td>
                        <td id="interesesExtras">$0</td>
                        <td id="plazoExtra">0 meses</td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="tool-box fade-in">
            <div>
                <h2 style="color: var(--oro); margin-top:0;">Calculadora de Impuestos</h2>
                <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 25px;">Estima tu carga fiscal anual.</p>
                <div class="input-group">
                    <label for="ingresosAnuales">Ingresos Anuales ($)</label>
                    <input type="number" id="ingresosAnuales" value="80000" min="0" step="1000">
                </div>
                <div class="input-group">
                    <label for="deducciones">Deducciones ($)</label>
                    <input type="number" id="deducciones" value="15000" min="0" step="1000">
                </div>
                <div class="input-group">
                    <label for="tasaMarginal">Tasa Marginal (%)</label>
                    <input type="number" id="tasaMarginal" value="24" min="0" max="50" step="1">
                </div>
                <button class="calc-btn" onclick="calcularImpuestos()">CALCULAR IMPUESTOS</button>
                <div class="results-summary" id="impuestosResults">
                    <h3>Resultado Fiscal</h3>
                    <div class="result-item">
                        <span>Impuestos a Pagar:</span>
                        <span class="result-value" id="impuestosPagar">$0</span>
                    </div>
                    <div class="result-item">
                        <span>Retenci√≥n Efectiva:</span>
                        <span class="result-value" id="retencionEfectiva">0%</span>
                    </div>
                </div>
            </div>
            <div class="chart-box">
                <div id="impuestosChart" style="display: flex; align-items: center; justify-content: center; height: 100%;">
                    <p style="color: #64748b;">Ingresa tus datos para ver el desglose</p>
                </div>
            </div>
        </div>

        <div class="tool-box fade-in">
            <div>
                <h2 style="color: var(--oro); margin-top:0;">Simulador de Portafolio</h2>
                <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 25px;">Crea tu asignaci√≥n de activos ideal.</p>
                <div class="input-group">
                    <label for="acciones">Acciones (%)</label>
                    <input type="number" id="acciones" value="60" min="0" max="100" step="5">
                </div>
                <div class="input-group">
                    <label for="bienesRaices">Bienes Ra√≠ces (%)</label>
                    <input type="number" id="bienesRaices" value="20" min="0" max="100" step="5">
                </div>
                <div class="input-group">
                    <label for="bonos">Bonos (%)</label>
                    <input type="number" id="bonos" value="15" min="0" max="100" step="5">
                </div>
                <div class="input-group">
                    <label for="cripto">Cripto (%)</label>
                    <input type="number" id="cripto" value="5" min="0" max="100" step="5">
                </div>
                <button class="calc-btn" onclick="simularPortafolio()">SIMULAR RENDIMIENTO</button>
                <div class="results-summary" id="portafolioResults">
                    <h3>Rendimiento Esperado</h3>
                    <div class="result-item">
                        <span>Rendimiento Anual:</span>
                        <span class="result-value" id="rendimientoPortafolio">0%</span>
                    </div>
                    <div class="result-item">
                        <span>Riesgo (Volatilidad):</span>
                        <span class="result-value" id="riesgoPortafolio">0%</span>
                    </div>
                </div>
            </div>
            <div class="chart-box">
                <canvas id="portafolioChart" role="img" aria-label="Gr√°fico de asignaci√≥n de portafolio"></canvas>
            </div>
        </div>

        <div class="ad-space fade-in" aria-hidden="true">
            [ESPACIO PARA ADSENSE - POSICI√ìN INFERIOR]
        </div>

        <div class="fade-in" style="margin-bottom: 60px;">
            <h2 style="color: var(--azul-oscuro); text-align: center; margin-bottom: 30px;">Comparador de Inversiones</h2>
            <table class="comparison-table">
                <caption>Comparaci√≥n de diferentes tipos de activos de inversi√≥n</caption>
                <tr>
                    <th scope="col">Activo</th>
                    <th scope="col">Rendimiento Hist√≥rico</th>
                    <th scope="col">Riesgo</th>
                    <th scope="col">Liquidez</th>
                    <th scope="col">Recomendaci√≥n</th>
                </tr>
                <tr>
                    <td>Acciones (S&P 500)</td>
                    <td>10% anual</td>
                    <td>Alto</td>
                    <td>Alta</td>
                    <td class="highlight">‚úÖ Ideal para largo plazo</td>
                </tr>
                <tr>
                    <td>Bienes Ra√≠ces</td>
                    <td>8-12% anual</td>
                    <td>Medio</td>
                    <td>Baja</td>
                    <td class="highlight">‚úÖ Apalancamiento + ingresos pasivos</td>
                </tr>
                <tr>
                    <td>Criptomonedas</td>
                    <td>Vol√°til (¬±50%)</td>
                    <td>Muy Alto</td>
                    <td>Alta</td>
                    <td>‚ö†Ô∏è Solo 5-10% del portafolio</td>
                </tr>
                <tr>
                    <td>Bonos del Tesoro</td>
                    <td>3-5% anual</td>
                    <td>Bajo</td>
                    <td>Alta</td>
                    <td class="highlight">‚úÖ Protecci√≥n en recesiones</td>
                </tr>
            </table>
        </div>
        <div style="text-align: center; margin-top: 40px;">
            <button onclick="crearMetaFinanciera()" class="calc-btn" style="max-width: 300px; margin: 0 auto;">
                ‚ú® CREAR NUEVA META FINANCIERA
            </button>
        </div>
    </section>

    <main class="blog-section" id="blog">
        <h1>Enciclopedia de Mercados y Estrategia</h1>
        <article class="article fade-in">
            <h2>I. El Mercado de Valores: An√°lisis de Ciclos y Valoraci√≥n</h2>
            <p>La inversi√≥n en bolsa de valores representa la adquisici√≥n de propiedad parcial en entidades productivas.
                Para que Google AdSense reconozca este sitio como una fuente de autoridad (E-E-A-T), debemos profundizar
                en la <strong>Teor√≠a Moderna de Carteras (MPT)</strong> de Harry Markowitz. No se trata simplemente de
                comprar acciones, sino de entender la correlaci√≥n entre activos. Un inversor inteligente busca la
                "Frontera Eficiente", donde se maximiza el retorno para un nivel de riesgo determinado.</p>
            <p>El an√°lisis fundamental nos obliga a observar el <i>Free Cash Flow</i> (Flujo de Caja Libre). A diferencia
                del beneficio contable, el flujo de caja muestra la liquidez real que la empresa puede reinvertir o
                devolver al accionista. Empresas con fosos econ√≥micos profundos, como ventajas de red o patentes
                tecnol√≥gicas, son capaces de mantener m√°rgenes de beneficio superiores al promedio durante d√©cadas.</p>
            <h3>Factores Clave para la Valoraci√≥n</h3>
            <ul>
                <li><strong>ROIC (Return on Invested Capital):</strong> Mide la eficiencia en la generaci√≥n de retornos
                    sobre el capital invertido</li>
                <li><strong>Deuda Neta / EBITDA:</strong> Indicador de salud financiera y capacidad de apalancamiento
                </li>
                <li><strong>Crecimiento Org√°nico:</strong> Sostenibilidad del crecimiento sin adquisiciones externas
                </li>
                <li><strong>Calidad del Management:</strong> Transparencia, alineaci√≥n con accionistas y visi√≥n
                    estrat√©gica</li>
            </ul>
            <div class="expert-note">
                <h4>Nota T√©cnica:</h4>
                <p>El ratio Precio-Beneficio (P/E Ratio) debe ser analizado en el contexto de las tasas de inter√©s de los
                    bonos del tesoro. Cuando las tasas suben, las valoraciones de las acciones tienden a comprimirse.</p>
            </div>
        </article>
        <article class="article fade-in">
            <h2>II. Bienes Ra√≠ces e Ingenier√≠a Financiera</h2>
            <p>La inversi√≥n inmobiliaria es, hist√≥ricamente, el mayor creador de millonarios debido al apalancamiento. En
                este apartado exploramos c√≥mo utilizar el capital del banco para multiplicar el retorno sobre el
                patrimonio (ROE). Si una propiedad se aprecia un 5% anual, pero t√∫ solo has puesto el 20% del capital
                inicial, tu retorno real sobre el dinero invertido es del 25%.</p>
            <p>Adem√°s de la plusval√≠a, el inversor debe enfocarse en la <strong>Tasa de Capitalizaci√≥n (Cap Rate)</strong>.
                Analizamos los mercados de alquiler residencial versus comercial y el impacto de los REITs (Real Estate
                Investment Trusts) en la liquidez del inversor minorista.</p>
            <h3>Estrategias Avanzadas</h3>
            <ol>
                <li><strong>BRRRR Method:</strong> Buy, Rehab, Rent, Refinance, Repeat</li>
                <li><strong>1031 Exchange:</strong> Diferimiento fiscal en Estados Unidos</li>
                <li><strong>House Hacking:</strong> Vivir en una unidad mientras alquilas las dem√°s</li>
                <li><strong>Syndications:</strong> Inversi√≥n colectiva en propiedades comerciales</li>
            </ol>
        </article>
        <article class="article fade-in">
            <h2>III. Criptoactivos y la Soberan√≠a Digital</h2>
            <p>Bitcoin ha emergido como el primer activo digital con escasez absoluta programada. En un entorno de
                pol√≠ticas monetarias expansivas por parte de la FED y el BCE, el oro digital act√∫a como un seguro contra
                la inflaci√≥n. Desglosamos la importancia del <i>Hash Rate</i> en la seguridad de la red y c√≥mo los
                contratos inteligentes de Ethereum est√°n transformando los servicios financieros.</p>
            <p>La evoluci√≥n hacia Web3 representa un cambio paradigm√°tico en la propiedad de datos y activos digitales.
                Los tokens no fungibles (NFTs) han demostrado ser m√°s que simples im√°genes, sirviendo como certificados
                de autenticidad, membres√≠as exclusivas y derechos de propiedad intelectual.</p>
        </article>
        <article class="article fade-in">
            <h2>IV. La Regla del 4%: ¬øCu√°nto Necesitas para Jubilarte?</h2>
            <p>La famosa <strong>Regla del 4%</strong>, desarrollada por el Trinity Study, sugiere que puedes retirar el
                4% anual de tu portafolio sin agotarlo en 30 a√±os. Pero en un mundo de bajas tasas de inter√©s y alta
                inflaci√≥n, ¬øsigue siendo v√°lida?</p>
            <p>Analizamos escenarios actualizados: con un portafolio de $1 mill√≥n, un retiro del 3.5% es m√°s seguro hoy.
                Adem√°s, la diversificaci√≥n global reduce la volatilidad durante la fase de retiro.</p>
        </article>
    </main>

    <section class="blog-section">
        <h1>Casos de Estudio Reales</h1>
        <div class="case-study fade-in">
            <h3>Caso 1: Mar√≠a - Jubilaci√≥n Anticipada a los 45</h3>
            <p><strong>Perfil:</strong> Consultora de 35 a√±os, ingresos $8,000/mes, gastos $5,000/mes.</p>
            <p><strong>Estrategia:</strong> Ahorro del 37.5% mensual + inversi√≥n en ETFs globales + inmueble de alquiler.
            </p>
            <p><strong>Resultado:</strong> Alcanz√≥ $1.2M en 10 a√±os, generando $4,000/mes en ingresos pasivos.</p>
        </div>
        <div class="case-study fade-in">
            <h3>Caso 2: Carlos - Libertad Financiera con Inmuebles</h3>
            <p><strong>Perfil:</strong> Ingeniero de 28 a√±os, salario $4,000/mes, sin deudas.</p>
            <p><strong>Estrategia:</strong> M√©todo BRRRR aplicado a 3 propiedades en 5 a√±os + REITs para diversificaci√≥n.
            </p>
            <p><strong>Resultado:</strong> $3,500/mes en rentas netas + plusval√≠a acumulada de $250,000.</p>
        </div>
    </section>

    <section class="blog-section">
        <h1>Glosario Financiero Interactivo</h1>
        <p>Haz clic en cualquier t√©rmino para ver su definici√≥n:</p>
        <div class="glossary fade-in">
            <div class="glossary-term" onclick="toggleGlossary(this)" role="button" tabindex="0"
                onkeypress="(e)=>e.key==='Enter' && toggleGlossary(this)">
                <h3>ROIC (Return on Invested Capital)</h3>
                <div class="glossary-definition">
                    <p>Mide la eficiencia con la que una empresa genera retornos sobre el capital que ha invertido.
                        F√≥rmula: Beneficio Operativo despu√©s de Impuestos / Capital Invertido.</p>
                </div>
            </div>
            <div class="glossary-term" onclick="toggleGlossary(this)" role="button" tabindex="0"
                onkeypress="(e)=>e.key==='Enter' && toggleGlossary(this)">
                <h3>Cap Rate (Tasa de Capitalizaci√≥n)</h3>
                <div class="glossary-definition">
                    <p>Indicador clave en bienes ra√≠ces que mide el retorno anual de una propiedad basado en su ingreso
                        neto operativo.</p>
                </div>
            </div>
            <div class="glossary-term" onclick="toggleGlossary(this)" role="button" tabindex="0"
                onkeypress="(e)=>e.key==='Enter' && toggleGlossary(this)">
                <h3>Frontera Eficiente</h3>
                <div class="glossary-definition">
                    <p>Concepto de la Teor√≠a Moderna de Carteras que representa el conjunto de carteras que ofrecen el
                        m√°ximo retorno esperado para un nivel dado de riesgo.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="testimonials fade-in">
        <h2>Lo Que Dicen Nuestros Lectores</h2>
        <div class="testimonial-grid">
            <div class="testimonial-card">
                <p class="testimonial-text">"Gracias a la calculadora de jubilaci√≥n, descubr√≠ que necesitaba ahorrar $800
                    mensuales, no $500. ¬°Estoy agradecido por esta claridad!"</p>
                <p class="testimonial-author">‚Äî Carlos M., Ingeniero, M√©xico</p>
            </div>
            <div class="testimonial-card">
                <p class="testimonial-text">"El art√≠culo sobre la Regla del 4% me ayud√≥ a reestructurar mi cartera para
                    la jubilaci√≥n anticipada. Contenido de primera calidad."</p>
                <p class="testimonial-author">‚Äî Ana R., Consultora, Espa√±a</p>
            </div>
            <div class="testimonial-card">
                <p class="testimonial-text">"La comparativa de inversiones me hizo reconsiderar mi exposici√≥n a cripto.
                    Ahora tengo un portafolio mucho m√°s equilibrado."</p>
                <p class="testimonial-author">‚Äî David L., Emprendedor, Colombia</p>
            </div>
        </div>
    </section>

    <section class="newsletter fade-in">
        <h2>√önete a Nuestra Comunidad</h2>
        <p>Recibe an√°lisis exclusivos, estrategias avanzadas y acceso prioritario a nuestras herramientas premium.
            ¬°Gratis!</p>
        <form class="newsletter-form" id="newsletterForm">
            <label for="email" class="sr-only">Correo electr√≥nico</label>
            <input type="email" id="email" placeholder="Tu correo electr√≥nico" required>
            <button type="submit">SUSCRIBIRME</button>
        </form>
        <p style="margin-top: 15px; font-size: 0.9rem; opacity: 0.8;">Al suscribirte, aceptas recibir emails semanales.
        </p>
    </section>

    <section id="contacto" class="contact-section fade-in">
        <h2>¬øListo para Transformar tu Futuro Financiero?</h2>
        <p>√önete a nuestra comunidad de inversores inteligentes y recibe an√°lisis exclusivos, estrategias avanzadas y
            acceso prioritario a nuestras herramientas premium.</p>
        <div class="contact-buttons">
            <a href="mailto:info@finanzaselite.com" class="contact-btn">CONTACTO POR EMAIL</a>
        </div>
    </section>

    <section class="terms-section fade-in">
        <h2>T√©rminos y Condiciones</h2>
        <p><strong>Informaci√≥n Educativa:</strong> Todo el contenido de este sitio web tiene fines exclusivamente
            educativos e informativos.</p>
        <p><strong>No Garant√≠a de Resultados:</strong> Los resultados pasados no garantizan resultados futuros. Las
            inversiones conllevan riesgos.</p>
        <p><strong>Responsabilidad Limitada:</strong> Finanzas √âlite no asume ninguna responsabilidad por decisiones
            financieras tomadas por los usuarios.</p>
    </section>
</div>

<div class="utility-buttons">
    <button class="utility-btn" onclick="exportToExcel()" title="Exportar datos">üìä</button>
    <button class="utility-btn" onclick="crearMetaFinanciera()" title="Crear meta">üéØ</button>
</div>

<footer>
    <div class="footer-content">
        <p>&copy; 2026 Finanzas √âlite | Todos los derechos reservados.</p>
        <div class="footer-links">
            <a href="#" class="footer-link">Pol√≠tica de Privacidad</a>
            <a href="#" class="footer-link">T√©rminos y Condiciones</a>
            <a href="#" class="footer-link">Aviso Legal</a>
            <a href="#" class="footer-link">Contacto</a>
        </div>
        <p style="font-size: 0.8rem; opacity: 0.6; margin-top: 10px;">Informaci√≥n t√©cnica para fines educativos.</p>
    </div>
</footer>

<script>
    (() => {
        'use strict';

        const FinancialUtils = {
            formatCurrency: (value) => {
                return new Intl.NumberFormat('es-ES', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                }).format(value);
            },
            formatPercent: (value, decimals = 1) => {
                return value.toFixed(decimals) + '%';
            },
            compoundInterest: (principal, monthlyDeposit, years, annualRate) => {
                const monthlyRate = annualRate / 12 / 100;
                const months = years * 12;
                let total = principal;
                for (let i = 0; i < months; i++) {
                    total = total * (1 + monthlyRate) + monthlyDeposit;
                }
                return {
                    total,
                    totalDeposits: principal + (monthlyDeposit * months),
                    earnings: total - (principal + (monthlyDeposit * months))
                };
            }
        };

        class NotificationSystem {
            static #container = null;

            static show(type, message, duration = 3000) {
                if (!this.#container) this.#createContainer();
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.setAttribute('role', 'alert');
                notification.innerHTML = `
                    <div class="notification-content">${this.#getIcon(type)} ${message}</div>
                    <button class="notification-close" aria-label="Cerrar notificaci√≥n">&times;</button>
                `;
                this.#container.appendChild(notification);
                const closeBtn = notification.querySelector('.notification-close');
                closeBtn.addEventListener('click', () => notification.remove());
                setTimeout(() => notification.remove(), duration);
            }

            static #createContainer() {
                this.#container = document.createElement('div');
                this.#container.id = 'notifications';
                document.body.appendChild(this.#container);
            }

            static #getIcon(type) {
                const icons = { success: '‚úÖ', error: '‚ùå', warning: '‚ö†Ô∏è', info: '‚ÑπÔ∏è' };
                return icons[type] ?? '';
            }
        }

        let simulacionChart = null;
        let portafolioChart = null;

        const debounce = (fn, delay) => {
            let timeout;
            return (...args) => {
                clearTimeout(timeout);
                timeout = setTimeout(() => fn(...args), delay);
            };
        };

        const sanitizeNumber = (value, min = -Infinity, max = Infinity, fallback = 0) => {
            const num = Number(value);
            if (isNaN(num) || num < min || num > max) return fallback;
            return num;
        };

        const actualizarSimulacion = () => {
            const capital = sanitizeNumber(document.getElementById('inicial').value, 0);
            const aporte = sanitizeNumber(document.getElementById('mensual').value, 0);
            const tiempo = sanitizeNumber(document.getElementById('anios').value, 1, 50);
            const tasaAnual = sanitizeNumber(document.getElementById('tasa').value, 0, 30) / 100;
            const inflacion = sanitizeNumber(document.getElementById('inflacion').value, 0, 20) / 100;

            let acumulado = capital;
            const puntosY = [];
            const puntosX = [];
            let totalAportado = capital;

            for (let i = 1; i <= tiempo; i++) {
                for (let m = 0; m < 12; m++) {
                    acumulado += aporte;
                    totalAportado += aporte;
                    acumulado *= (1 + tasaAnual / 12);
                }
                const valorReal = acumulado / ((1 + inflacion) ** i);
                puntosY.push(valorReal);
                puntosX.push(`A√±o ${i}`);
            }

            const ctx = document.getElementById('canvasGrafico')?.getContext('2d');
            if (!ctx) return;

            if (simulacionChart) simulacionChart.destroy();
            simulacionChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: puntosX,
                    datasets: [{
                        label: 'Capital Acumulado (ajustado por inflaci√≥n)',
                        data: puntosY,
                        borderColor: '#D4AF37',
                        backgroundColor: 'rgba(212, 175, 55, 0.1)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: '#334155', font: { size: 12, weight: 'bold' } } },
                        tooltip: {
                            callbacks: {
                                label: (context) => `Capital: ${FinancialUtils.formatCurrency(context.parsed.y)}`
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: (value) => FinancialUtils.formatCurrency(value),
                                color: '#64748b'
                            },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' }
                        },
                        x: {
                            ticks: { color: '#64748b' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' }
                        }
                    }
                }
            });

            const capitalFinal = puntosY[puntosY.length - 1] || 0;
            const gananciasNetas = capitalFinal - totalAportado;

            document.getElementById('capitalFinal').textContent = FinancialUtils.formatCurrency(capitalFinal);
            document.getElementById('totalAportado').textContent = FinancialUtils.formatCurrency(totalAportado);
            document.getElementById('gananciasNetas').textContent = FinancialUtils.formatCurrency(gananciasNetas);
            NotificationSystem.show('success', `Proyecci√≥n calculada para ${tiempo} a√±os`);
        };

        const calcularJubilacion = () => {
            const edadActual = sanitizeNumber(document.getElementById('edadActual').value, 18, 80, 35);
            const edadJubilacion = sanitizeNumber(document.getElementById('edadJubilacion').value, 50, 90, 65);
            const gastosMensuales = sanitizeNumber(document.getElementById('gastosJubilacion').value, 500);
            const rendimiento = sanitizeNumber(document.getElementById('rendimientoJubilacion').value, 0, 15, 6) / 100;

            const anosJubilacion = 25;
            const gastosAnuales = gastosMensuales * 12;
            const factor = (1 - ((1 + rendimiento) ** -anosJubilacion)) / rendimiento;
            const patrimonioObjetivo = gastosAnuales * factor;
            const anosAhorro = edadJubilacion - edadActual;
            const mesesAhorro = anosAhorro * 12;
            const tasaMensual = rendimiento / 12;
            const factorAhorro = (((1 + tasaMensual) ** mesesAhorro) - 1) / tasaMensual;
            const ahorroMensual = patrimonioObjetivo / factorAhorro;

            document.getElementById('ahorroMensual').textContent = FinancialUtils.formatCurrency(ahorroMensual);
            document.getElementById('patrimonioObjetivo').textContent = FinancialUtils.formatCurrency(patrimonioObjetivo);

            const jubilacionChart = document.getElementById('jubilacionChart');
            if (jubilacionChart) {
                jubilacionChart.innerHTML = `
                    <div style="text-align: center; color: #64748b;">
                        <p>¬°Necesitas ahorrar <strong>${FinancialUtils.formatCurrency(ahorroMensual)}</strong> mensualmente!</p>
                        <p>Objetivo: ${FinancialUtils.formatCurrency(patrimonioObjetivo)}</p>
                    </div>
                `;
            }
        };

        const simularDeuda = () => {
            const saldo = sanitizeNumber(document.getElementById('saldoDeuda').value, 0);
            const tasa = sanitizeNumber(document.getElementById('tasaDeuda').value, 0, 30, 4.5) / 100;
            const pagoActual = sanitizeNumber(document.getElementById('pagoActual').value, 0);
            const pagoExtra = sanitizeNumber(document.getElementById('pagoExtra').value, 0);

            const tasaMensual = tasa / 12;
            const pagoTotal = pagoActual + pagoExtra;

            const calcular = (saldoInicial, pago) => {
                let saldoTemp = saldoInicial;
                let meses = 0;
                let totalPagado = 0;
                while (saldoTemp > 0 && meses < 1000) {
                    const interes = saldoTemp * tasaMensual;
                    const capital = pago - interes;
                    if (capital <= 0) break;
                    saldoTemp -= capital;
                    totalPagado += pago;
                    meses++;
                }
                return { meses, totalPagado };
            };

            const normal = calcular(saldo, pagoActual);
            const extra = calcular(saldo, pagoTotal);

            const interesesNormales = normal.totalPagado - saldo;
            const interesesExtras = extra.totalPagado - saldo;
            const ahorroIntereses = interesesNormales - interesesExtras;
            const mesesAhorrados = normal.meses - extra.meses;

            document.getElementById('ahorroIntereses').textContent = FinancialUtils.formatCurrency(ahorroIntereses);
            document.getElementById('mesesAhorrados').textContent = mesesAhorrados;
            document.getElementById('pagoTotalNormal').textContent = FinancialUtils.formatCurrency(normal.totalPagado);
            document.getElementById('interesesNormales').textContent = FinancialUtils.formatCurrency(interesesNormales);
            document.getElementById('plazoNormal').textContent = `${normal.meses} meses`;
            document.getElementById('pagoTotalExtra').textContent = FinancialUtils.formatCurrency(extra.totalPagado);
            document.getElementById('interesesExtras').textContent = FinancialUtils.formatCurrency(interesesExtras);
            document.getElementById('plazoExtra').textContent = `${extra.meses} meses`;
        };

        const calcularImpuestos = () => {
            const ingresos = sanitizeNumber(document.getElementById('ingresosAnuales').value, 0);
            const deducciones = sanitizeNumber(document.getElementById('deducciones').value, 0);
            const tasaMarginal = sanitizeNumber(document.getElementById('tasaMarginal').value, 0, 50, 24) / 100;

            const ingresoImponible = Math.max(0, ingresos - deducciones);
            const impuestos = ingresoImponible * tasaMarginal;
            const retencionEfectiva = ingresos > 0 ? (impuestos / ingresos * 100) : 0;

            document.getElementById('impuestosPagar').textContent = FinancialUtils.formatCurrency(impuestos);
            document.getElementById('retencionEfectiva').textContent = FinancialUtils.formatPercent(retencionEfectiva);

            const impuestosChart = document.getElementById('impuestosChart');
            if (impuestosChart) {
                impuestosChart.innerHTML = `
                    <div style="text-align: center; color: #64748b;">
                        <p>Impuestos: <strong>${FinancialUtils.formatCurrency(impuestos)}</strong></p>
                        <p>Tasa efectiva: <strong>${FinancialUtils.formatPercent(retencionEfectiva)}</strong></p>
                    </div>
                `;
            }
        };

        const simularPortafolio = () => {
            const acciones = sanitizeNumber(document.getElementById('acciones').value, 0, 100, 60);
            const bienesRaices = sanitizeNumber(document.getElementById('bienesRaices').value, 0, 100, 20);
            const bonos = sanitizeNumber(document.getElementById('bonos').value, 0, 100, 15);
            const cripto = sanitizeNumber(document.getElementById('cripto').value, 0, 100, 5);

            const total = acciones + bienesRaices + bonos + cripto;
            if (Math.abs(total - 100) > 0.1) {
                NotificationSystem.show('error', 'La suma de los porcentajes debe ser 100%');
                return;
            }

            const rendimientoAcciones = 10;
            const rendimientoBienesRaices = 9;
            const rendimientoBonos = 4;
            const rendimientoCripto = 25;

            const volatilidadAcciones = 15;
            const volatilidadBienesRaices = 12;
            const volatilidadBonos = 5;
            const volatilidadCripto = 80;

            const rendimiento = (acciones * rendimientoAcciones + bienesRaices * rendimientoBienesRaices + bonos * rendimientoBonos + cripto * rendimientoCripto) / 100;
            const riesgo = (acciones * volatilidadAcciones + bienesRaices * volatilidadBienesRaices + bonos * volatilidadBonos + cripto * volatilidadCripto) / 100;

            document.getElementById('rendimientoPortafolio').textContent = FinancialUtils.formatPercent(rendimiento);
            document.getElementById('riesgoPortafolio').textContent = FinancialUtils.formatPercent(riesgo);

            const ctx = document.getElementById('portafolioChart')?.getContext('2d');
            if (!ctx) return;

            if (portafolioChart) portafolioChart.destroy();

            const labels = [];
            const data = [];
            const backgroundColors = [];

            if (acciones > 0) {
                labels.push('Acciones');
                data.push(acciones);
                backgroundColors.push('#3b82f6');
            }
            if (bienesRaices > 0) {
                labels.push('Bienes Ra√≠ces');
                data.push(bienesRaices);
                backgroundColors.push('#10b981');
            }
            if (bonos > 0) {
                labels.push('Bonos');
                data.push(bonos);
                backgroundColors.push('#8b5cf6');
            }
            if (cripto > 0) {
                labels.push('Cripto');
                data.push(cripto);
                backgroundColors.push('#f59e0b');
            }

            portafolioChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels,
                    datasets: [{
                        data,
                        backgroundColor: backgroundColors,
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { color: '#334155', font: { size: 11 } }
                        }
                    }
                }
            });
        };

        const toggleGlossary = (element) => {
            element.classList.toggle('active');
        };

        const toggleDarkMode = () => {
            const isDark = document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', isDark);
            const toggleBtn = document.getElementById('darkModeToggle');
            if (toggleBtn) {
                toggleBtn.innerHTML = isDark ? '‚òÄÔ∏è' : 'üåô';
                toggleBtn.setAttribute('aria-label', `Cambiar a modo ${isDark ? 'claro' : 'oscuro'}`);
            }
            NotificationSystem.show('info', `Modo ${isDark ? 'oscuro' : 'claro'} activado`);
        };

        const exportToExcel = () => {
            const data = [];
            document.querySelectorAll('.results-summary').forEach((summary, index) => {
                const toolTitle = summary.closest('.tool-box')?.querySelector('h2')?.textContent || `Herramienta ${index + 1}`;
                const results = {};
                summary.querySelectorAll('.result-item').forEach(item => {
                    const label = item.querySelector('span:first-child').textContent.trim();
                    const value = item.querySelector('.result-value').textContent.trim();
                    results[label] = value;
                });
                data.push({ Herramienta: toolTitle, ...results });
            });

            const csvContent = "data:text/csv;charset=utf-8," +
                "Herramienta,Resultado,Valor\n" +
                data.map(row => {
                    const tool = row.Herramienta;
                    delete row.Herramienta;
                    return Object.entries(row).map(([key, value]) =>
                        `${tool},${key},${value}`
                    ).join("\n");
                }).join("\n");

            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "finanzas_elite_resultados.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            NotificationSystem.show('success', 'Datos exportados a CSV');
        };

        const crearMetaFinanciera = () => {
            const metaNombre = prompt('Nombre de tu meta financiera:', 'Comprar casa');
            if (!metaNombre) return;

            const metaMonto = parseFloat(prompt('Monto objetivo ($):', '50000'));
            if (isNaN(metaMonto) || metaMonto <= 0) {
                NotificationSystem.show('error', 'Monto objetivo inv√°lido');
                return;
            }

            const metaActual = parseFloat(prompt('Monto actual ($):', '10000')) || 0;
            const fechaObjetivo = prompt('Fecha objetivo (YYYY-MM):', '2025-12');

            const porcentaje = Math.min(100, (metaActual / metaMonto) * 100);
            const fecha = new Date(fechaObjetivo + '-01');
            const hoy = new Date();
            const mesesRestantes = Math.max(0, (fecha.getFullYear() - hoy.getFullYear()) * 12 + (fecha.getMonth() - hoy.getMonth()));
            const ahorroMensual = (metaMonto - metaActual) / Math.max(1, mesesRestantes);

            const metaHTML = `
                <div class="tool-box fade-in" id="meta-${Date.now()}">
                    <div>
                        <h2 style="color: var(--oro); margin-top:0;">${metaNombre}</h2>
                        <div style="margin: 20px 0;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>${FinancialUtils.formatCurrency(metaActual)} de ${FinancialUtils.formatCurrency(metaMonto)}</span>
                                <span>${porcentaje.toFixed(1)}%</span>
                            </div>
                            <div style="background: var(--gris-medio); height: 20px; border-radius: 10px; overflow: hidden;">
                                <div style="background: var(--verde); height: 100%; width: ${porcentaje}%;"></div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                            <div>
                                <p style="font-size: 0.9rem; color: #94a3b8;">Ahorro mensual:</p>
                                <p style="font-size: 1.2rem; font-weight: bold; color: var(--oro);">${FinancialUtils.formatCurrency(ahorroMensual)}</p>
                            </div>
                            <div>
                                <p style="font-size: 0.9rem; color: #94a3b8;">Fecha objetivo:</p>
                                <p style="font-size: 1.2rem; font-weight: bold;">${fechaObjetivo}</p>
                            </div>
                        </div>
                        <button onclick="actualizarMeta('${Date.now()}', ${metaMonto})" style="background: var(--azul-claro); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; width: 100%;">Actualizar Progreso</button>
                    </div>
                    <div class="chart-box" style="display: flex; flex-direction: column; justify-content: center;">
                        <div style="font-size: 3rem; text-align: center; color: var(--oro); font-weight: bold;">${porcentaje.toFixed(1)}%</div>
                        <p style="color: #64748b; text-align: center; margin-top: 10px;">${mesesRestantes} meses restantes</p>
                    </div>
                </div>
            `;

            const toolsSection = document.querySelector('.tools-section');
            const crearMetaBtn = toolsSection.querySelector('button[onclick="crearMetaFinanciera()"]');
            if (crearMetaBtn) {
                crearMetaBtn.closest('div').insertAdjacentHTML('beforebegin', metaHTML);
            }
            NotificationSystem.show('success', 'Meta financiera creada');
        };

        window.actualizarMeta = (id, metaMonto) => {
            const metaActual = parseFloat(prompt('Nuevo monto actual ($):', '0'));
            if (isNaN(metaActual) || metaActual < 0) return;

            const metaElement = document.getElementById(`meta-${id}`);
            if (!metaElement) return;

            const porcentaje = Math.min(100, (metaActual / metaMonto) * 100);
            const barra = metaElement.querySelector('div[style*="background: var(--verde)"]');
            const porcentajeText = metaElement.querySelector('div[style*="font-size: 3rem"]');
            if (barra) barra.style.width = `${porcentaje}%`;
            if (porcentajeText) porcentajeText.textContent = `${porcentaje.toFixed(1)}%`;

            const montoSpan = metaElement.querySelector('span:first-child');
            if (montoSpan) {
                montoSpan.textContent = `${FinancialUtils.formatCurrency(metaActual)} de ${FinancialUtils.formatCurrency(metaMonto)}`;
            }

            const porcentajeSpan = metaElement.querySelector('span:last-child');
            if (porcentajeSpan) {
                porcentajeSpan.textContent = `${porcentaje.toFixed(1)}%`;
            }
        };

        const init = () => {
            const darkMode = localStorage.getItem('darkMode') === 'true';
            if (darkMode) {
                document.body.classList.add('dark-mode');
                const toggleBtn = document.getElementById('darkModeToggle');
                if (toggleBtn) {
                    toggleBtn.innerHTML = '‚òÄÔ∏è';
                    toggleBtn.setAttribute('aria-label', 'Cambiar a modo claro');
                }
            }

            actualizarSimulacion();
            calcularJubilacion();
            simularDeuda();
            calcularImpuestos();
            simularPortafolio();

            const debouncedSimulacion = debounce(actualizarSimulacion, 500);
            const debouncedJubilacion = debounce(calcularJubilacion, 500);
            const debouncedDeuda = debounce(simularDeuda, 500);
            const debouncedImpuestos = debounce(calcularImpuestos, 500);
            const debouncedPortafolio = debounce(simularPortafolio, 500);

            document.getElementById('inicial')?.addEventListener('input', debouncedSimulacion);
            document.getElementById('mensual')?.addEventListener('input', debouncedSimulacion);
            document.getElementById('anios')?.addEventListener('input', debouncedSimulacion);
            document.getElementById('tasa')?.addEventListener('input', debouncedSimulacion);
            document.getElementById('inflacion')?.addEventListener('input', debouncedSimulacion);

            document.getElementById('edadActual')?.addEventListener('input', debouncedJubilacion);
            document.getElementById('edadJubilacion')?.addEventListener('input', debouncedJubilacion);
            document.getElementById('gastosJubilacion')?.addEventListener('input', debouncedJubilacion);
            document.getElementById('rendimientoJubilacion')?.addEventListener('input', debouncedJubilacion);

            document.getElementById('saldoDeuda')?.addEventListener('input', debouncedDeuda);
            document.getElementById('tasaDeuda')?.addEventListener('input', debouncedDeuda);
            document.getElementById('pagoActual')?.addEventListener('input', debouncedDeuda);
            document.getElementById('pagoExtra')?.addEventListener('input', debouncedDeuda);

            document.getElementById('ingresosAnuales')?.addEventListener('input', debouncedImpuestos);
            document.getElementById('deducciones')?.addEventListener('input', debouncedImpuestos);
            document.getElementById('tasaMarginal')?.addEventListener('input', debouncedImpuestos);

            document.getElementById('acciones')?.addEventListener('input', debouncedPortafolio);
            document.getElementById('bienesRaices')?.addEventListener('input', debouncedPortafolio);
            document.getElementById('bonos')?.addEventListener('input', debouncedPortafolio);
            document.getElementById('cripto')?.addEventListener('input', debouncedPortafolio);

            document.getElementById('darkModeToggle')?.addEventListener('click', toggleDarkMode);
            document.getElementById('darkModeToggle')?.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') toggleDarkMode();
            });

            const newsletterForm = document.getElementById('newsletterForm');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    NotificationSystem.show('success', '¬°Gracias por suscribirte!');
                    newsletterForm.reset();
                });
            }

            document.querySelectorAll('.glossary-term').forEach(term => {
                term.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleGlossary(term);
                    }
                });
            });

            NotificationSystem.show('info', 'Finanzas √âlite cargado correctamente');
        };

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    })();
</script>











